(function(){var a;a=document.addEventListener?"input":"keyup",rivets.binders.input={publishes:!0,routine:rivets.binders.value.routine,bind:function(b){return $(b).bind(""+a+".rivets",this.publish)},unbind:function(b){return $(b).unbind(""+a+".rivets")}},rivets.configure({prefix:"rv",adapter:{subscribe:function(a,b,c){return c.wrapped=function(a,b){return c(b)},a.on("change:"+b,c.wrapped)},unsubscribe:function(a,b,c){return a.off("change:"+b,c.wrapped)},read:function(a,b){return"cid"===b?a.cid:a.get(b)},publish:function(a,b,c){return a.cid?a.set(b,c):a[b]=c}}})}).call(this),function(){var a,b,c;window.FormRenderer=a=Backbone.View.extend({defaults:{enablePages:!0,screendoorBase:"https://screendoor.dobt.co",target:"[data-formrenderer]",validateImmediately:!1,response:{},preview:!1,skipValidation:void 0,saveParams:{},showLabels:!1,plugins:["Autosave","WarnBeforeUnload","BottomBar","ErrorBar","LocalStorage"]},constructor:function(b){var c,d,e,f;for(this.options=$.extend({},this.defaults,b),this.requests=0,this.state=new Backbone.Model({hasChanges:!1}),this.setElement($(this.options.target)),this.$el.addClass("fr_form"),this.$el.data("formrenderer-instance",this),this.subviews={pages:{}},this.plugins=_.map(this.options.plugins,function(b){return function(c){return new a.Plugins[c](b)}}(this)),f=this.plugins,d=0,e=f.length;e>d;d++)c=f[d],"function"==typeof c.beforeFormLoad&&c.beforeFormLoad();return this.$el.html(JST.main(this)),this.trigger("viewRendered",this),this.loadFromServer(function(a){return function(){var b,d,e,f;for(a.$el.find(".fr_loading").remove(),a.initResponseFields(),a.initPages(),a.options.enablePages?a.initPagination():a.initNoPagination(),f=a.plugins,d=0,e=f.length;e>d;d++)c=f[d],"function"==typeof c.afterFormLoad&&c.afterFormLoad();return a.options.validateImmediately&&a.validateAllPages(),a.initConditions(),a.trigger("ready"),"function"==typeof(b=a.options).onReady?b.onReady():void 0}}(this)),this},loadFromServer:function(a){return null!=this.options.response_fields&&null!=this.options.response.responses?a():$.ajax({url:""+this.options.screendoorBase+"/api/form_renderer/load",type:"get",dataType:"json",data:{project_id:this.options.project_id,response_id:this.options.response.id,v:0},success:function(b){return function(c){var d,e,f;return b.options.response.id=c.response_id,(d=b.options).response_fields||(d.response_fields=c.project.response_fields),(e=b.options.response).responses||(e.responses=(null!=(f=c.response)?f.responses:void 0)||{}),a()}}(this),error:function(a){return function(b){var c;return a.$el.find(".fr_loading").text('Error loading form: "'+((null!=(c=b.responseJSON)?c.error:void 0)||"Unknown")+'"'),a.trigger("errorSaving",b)}}(this)})},initResponseFields:function(){var b,c,d,e,f;for(this.response_fields=new Backbone.Collection,f=this.options.response_fields,d=0,e=f.length;e>d;d++)c=f[d],b=new(a.Models["ResponseField"+_.str.classify(c.field_type)])(c,{form_renderer:this}),b.input_field&&b.setExistingValue(this.options.response.responses[b.get("id")]),this.response_fields.add(b);return this.listenTo(this.response_fields,"change",$.proxy(this._onChange,this))},initPages:function(){var b,c,d,e,f,g;b=function(b){return function(){return b.subviews.pages[c]=new a.Views.Page({form_renderer:b})}}(this),this.numPages=this.response_fields.filter(function(a){return"page_break"===a.get("field_type")}).length+1,this.state.set("activePage",1),c=1,b(),this.response_fields.each(function(a){return function(d){return"page_break"===d.get("field_type")?(c++,b()):a.subviews.pages[c].models.push(d)}}(this)),f=this.subviews.pages,g=[];for(e in f)d=f[e],g.push(this.$el.append(d.render().el));return g},initPagination:function(){return this.subviews.pagination=new a.Views.Pagination({form_renderer:this}),this.$el.prepend(this.subviews.pagination.render().el),this.subviews.pages[this.state.get("activePage")].show()},initNoPagination:function(){var a,b,c,d;c=this.subviews.pages,d=[];for(b in c)a=c[b],d.push(a.show());return d},initConditions:function(){return this.listenTo(this.response_fields,"change:value change:value.*",function(a){return function(b){return a.runConditions(b)}}(this)),this.allConditions=_.flatten(this.response_fields.map(function(a){return _.map(a.getConditions(),function(b){return _.extend({},b,{parent:a})})}))},activatePage:function(a,b){return null==b&&(b={}),b.skipValidation||this.validateCurrentPage()?(this.subviews.pages[this.state.get("activePage")].hide(),this.subviews.pages[a].show(),this.state.set("activePage",a)):void 0},validateCurrentPage:function(){return this.trigger("beforeValidate beforeValidate:one",this.state.get("activePage")),this.subviews.pages[this.state.get("activePage")].validate(),this.trigger("afterValidate afterValidate:one",this.state.get("activePage")),this.isPageValid(this.state.get("activePage"))},validateAllPages:function(){var a,b,c;this.trigger("beforeValidate beforeValidate:all"),c=this.subviews.pages;for(b in c)a=c[b],a.validate();return this.trigger("afterValidate afterValidate:all"),this.areAllPagesValid()},isPageVisible:function(a){return this.subviews.pages[a]&&!!_.find(this.subviews.pages[a].models,function(a){return a.isVisible})},isPageValid:function(a){return!_.find(this.subviews.pages[a].models,function(a){return a.input_field&&a.errors.length>0})},areAllPagesValid:function(){var a;return _.every(function(){a=[];for(var b=1,c=this.numPages;c>=1?c>=b:b>=c;c>=1?b++:b--)a.push(b);return a}.apply(this),function(a){return function(b){return a.isPageValid(b)}}(this))},visiblePages:function(){return _.tap([],function(a){return function(b){var c,d,e,f;e=a.subviews.pages,f=[];for(c in e)d=e[c],f.push(a.isPageVisible(c)?b.push(parseInt(c,10)):void 0);return f}}(this))},isFirstPage:function(){var a;return a=this.visiblePages()[0],!a||this.state.get("activePage")===a},isLastPage:function(){var a;return a=_.last(this.visiblePages()),!a||this.state.get("activePage")===a},previousPage:function(){return this.visiblePages()[_.indexOf(this.visiblePages(),this.state.get("activePage"))-1]},nextPage:function(){return this.visiblePages()[_.indexOf(this.visiblePages(),this.state.get("activePage"))+1]},handlePreviousPage:function(){return this.activatePage(this.previousPage(),{skipValidation:!0})},handleNextPage:function(){return this.isLastPage()||!this.options.enablePages?this.submit():this.activatePage(this.nextPage())},getValue:function(){return _.tap({},function(a){return function(b){return a.response_fields.each(function(a){var c;if(a.input_field&&a.isVisible)return c=a.getValue(),"object"==typeof c&&c.merge?(delete c.merge,_.extend(b,c)):b[a.get("id")]=c})}}(this))},saveParams:function(){return _.extend({v:0,response_id:this.options.response.id,project_id:this.options.project_id,skip_validation:this.options.skipValidation},this.options.saveParams)},_onChange:function(){return this.state.set("hasChanges",!0),this.isSaving?this.changedWhileSaving=!0:void 0},save:function(a){return null==a&&(a={}),this.isSaving?void 0:(this.requests+=1,this.isSaving=!0,this.changedWhileSaving=!1,$.ajax({url:""+this.options.screendoorBase+"/api/form_renderer/save",type:"post",dataType:"json",data:_.extend(this.saveParams(),{raw_responses:this.getValue(),submit:a.submit?!0:void 0}),complete:function(a){return function(){return a.requests-=1,a.isSaving=!1,a.trigger("afterSave")}}(this),success:function(b){return function(c){var d;return b.state.set({hasChanges:b.changedWhileSaving,hasServerErrors:!1}),b.options.response.id=c.response_id,null!=(d=a.cb)?d.apply(b,arguments):void 0}}(this),error:function(a){return function(){return a.state.set({hasServerErrors:!0,submitting:!1})}}(this)}))},waitForRequests:function(a){return this.requests>0?setTimeout(function(b){return function(){return b.waitForRequests(a)}}(this),100):a()},submit:function(a){return null==a&&(a={}),a.skipValidation||this.options.skipValidation||this.validateAllPages()?(this.state.set("submitting",!0),this.waitForRequests(function(a){return function(){return a.options.preview?a._preview():a.save({submit:!0,cb:function(){return a.trigger("afterSubmit"),a._afterSubmit()}})}}(this))):void 0},_afterSubmit:function(){var a,b;return b=this.options.afterSubmit,"function"==typeof b?b.call(this):"string"==typeof b?window.location=b.replace(":id",this.options.response.id):"object"==typeof b&&"page"===b.method?(a=$("<div class='fr_after_submit_page'>"+b.html+"</div>"),this.$el.replaceWith(a)):console.log("[FormRenderer] Not sure what to do...")},_preview:function(){var a;return a=function(a){return function(){return window.location=a.options.preview.replace(":id",a.options.response.id)}}(this),!this.state.get("hasChanges")&&this.options.response.id?a():this.save({cb:a})},reflectConditions:function(){var a,b,c,d;c=this.subviews.pages;for(b in c)a=c[b],a.reflectConditions();return null!=(d=this.subviews.pagination)?d.render():void 0},runConditions:function(a){return _.each(this.conditionsForResponseField(a),function(a){return a.parent.calculateVisibility()}),this.reflectConditions()},conditionsForResponseField:function(a){return _.filter(this.allConditions,function(b){return""+b.response_field_id==""+a.id})},isConditionalVisible:function(b){return new a.ConditionChecker(this,b).isVisible()}}),a.INPUT_FIELD_TYPES=["identification","address","checkboxes","date","dropdown","email","file","number","paragraph","price","radio","table","text","time","website","map_marker"],a.NON_INPUT_FIELD_TYPES=["block_of_text","page_break","section_break"],a.FIELD_TYPES=_.union(a.INPUT_FIELD_TYPES,a.NON_INPUT_FIELD_TYPES),a.BUTTON_CLASS="",a.DEFAULT_LAT_LNG=[40.7700118,-73.9800453],a.MAPBOX_URL="https://api.tiles.mapbox.com/mapbox.js/v2.1.4/mapbox.js",a.FILE_TYPES={},a.ADD_ROW_LINK="+ Add another row",a.REMOVE_ROW_LINK="-",a.Views={},a.Models={},a.Validators={},a.Plugins={},a.addPlugin=function(a){return this.prototype.defaults.plugins.push(a)},a.removePlugin=function(a){return this.prototype.defaults.plugins=_.without(this.prototype.defaults.plugins,a)},a.loadLeaflet=function(b){return null!=("undefined"!=typeof L&&null!==L?L.GeoJSON:void 0)?b():requireOnce(a.MAPBOX_URL,b)},a.initMap=function(a){return L.mapbox.accessToken="pk.eyJ1IjoiYWRhbWphY29iYmVja2VyIiwiYSI6Im1SVEQtSm8ifQ.ZgEOSXsv9eLfGQ-9yAmtIg",L.mapbox.map(a,"adamjacobbecker.ja7plkah")},a.getLength=function(a,b){return"words"===a?(_.str.trim(b).replace(/['";:,.?¿\-!¡]+/g,"").match(/\S+/g)||"").length:_.str.trim(b).replace(/\s/g,"").length},b=function(a){var b;return b=/(^|[\s\n]|<br\/?>)((?:https?|ftp):\/\/[\-A-Z0-9+\u0026\u2019@#\/%?=()~_|!:,.;]*[\-A-Z0-9+\u0026@#\/%=~()_|])/gi,a.replace(b,"$1<a href='$2' target='_blank'>$2</a>")},c=_.extend({},Sanitize.Config.RELAXED),c.attributes.a.push("target"),a.formatHTML=function(a){return _.sanitize(b(_.simpleFormat(a||"",!1)),c)}}.call(this),function(){var a;a=["US","GB","CA"],FormRenderer.ORDERED_COUNTRIES=_.uniq(_.union(a,[void 0],_.keys(ISOCountryNames))),FormRenderer.PROVINCES_CA=["Alberta","British Columbia","Labrador","Manitoba","New Brunswick","Newfoundland","Nova Scotia","Nunavut","Northwest Territories","Ontario","Prince Edward Island","Quebec","Saskatchewen","Yukon"],FormRenderer.PROVINCES_US=["Alabama","Alaska","American Samoa","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District Of Columbia","Federated States Of Micronesia","Florida","Georgia","Guam","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Marshall Islands","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Northern Mariana Islands","Ohio","Oklahoma","Oregon","Palau","Pennsylvania","Puerto Rico","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virgin Islands","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]}.call(this),function(){FormRenderer.errors={blank:"This field can't be blank.",invalid_date:"Please enter a valid date.",invalid_email:"Please enter a valid email address.",invalid_integer:"Please enter a whole number.",invalid_number:"Please enter a valid number.",invalid_price:"Please enter a valid price.",invalid_time:"Please enter a valid time.",too_large:"Your answer is too large.",too_long:"Your answer is too long.",too_short:"Your answer is too short.",too_small:"Your answer is too small."}}.call(this),function(){FormRenderer.ConditionChecker=function(){function a(a,b){this.form_renderer=a,this.condition=b,this.value=this.responseField().toText()||""}return a.prototype.method_eq=function(){return this.value.toLowerCase()===this.condition.value.toLowerCase()},a.prototype.method_contains=function(){return!!this.value.toLowerCase().match(this.condition.value.toLowerCase())},a.prototype.method_gt=function(){return parseFloat(this.value)>parseFloat(this.condition.value)},a.prototype.method_lt=function(){return parseFloat(this.value)<parseFloat(this.condition.value)},a.prototype.method_shorter=function(){return this.length()<parseInt(this.condition.value,10)},a.prototype.method_longer=function(){return this.length()>parseInt(this.condition.value,10)},a.prototype.length=function(){return FormRenderer.getLength(this.responseField().getLengthValidationUnits(),this.value)},a.prototype.isValid=function(){return _.all(["value","action","response_field_id","method"],function(a){return function(b){return a.condition[b]}}(this))},a.prototype.isVisible=function(){return this.isValid()?this.actionBool()===this["method_"+this.condition.method]():!0},a.prototype.actionBool=function(){return"show"===this.condition.action},a.prototype.responseField=function(){return this.form_renderer.response_fields.get(this.condition.response_field_id)},a}()}.call(this),function(){FormRenderer.Validators.DateValidator={validate:function(a){var b,c,d;return d=parseInt(a.get("value.year"),10)||0,b=parseInt(a.get("value.day"),10)||0,c=parseInt(a.get("value.month"),10)||0,d>0&&b>0&&31>=b&&c>0&&12>=c?void 0:"invalid_date"}}}.call(this),function(){FormRenderer.Validators.EmailValidator={validate:function(a){return a.get("value").match("@")?void 0:"invalid_email"}}}.call(this),function(){FormRenderer.Validators.IdentificationValidator={validate:function(a){return a.get("value.name")&&a.get("value.email")?a.get("value.email").match("@")?void 0:"invalid_email":"blank"}}}.call(this),function(){FormRenderer.Validators.IntegerValidator={validate:function(a){return a.get("field_options.integer_only")?a.get("value").match(/^-?\d+$/)?void 0:"invalid_integer":void 0}}}.call(this),function(){FormRenderer.Validators.MinMaxLengthValidator={validate:function(a){var b,c,d;if(a.get("field_options.minlength")||a.get("field_options.maxlength"))return d=parseInt(a.get("field_options.minlength"),10)||void 0,c=parseInt(a.get("field_options.maxlength"),10)||void 0,b=FormRenderer.getLength(a.getLengthValidationUnits(),a.get("value")),d&&d>b?"too_short":c&&b>c?"too_long":void 0}}}.call(this),function(){FormRenderer.Validators.MinMaxValidator={validate:function(a){var b,c,d;if(a.get("field_options.min")||a.get("field_options.max"))return c=a.get("field_options.min")&&parseFloat(a.get("field_options.min")),b=a.get("field_options.max")&&parseFloat(a.get("field_options.max")),d=parseFloat("price"===a.field_type?""+(a.get("value.dollars")||0)+"."+(a.get("value.cents")||0):a.get("value").replace(/,/g,"")),c&&c>d?"too_small":b&&d>b?"too_large":void 0}}}.call(this),function(){FormRenderer.Validators.NumberValidator={validate:function(a){var b;return b=a.get("value"),b=b.replace(/,/g,"").replace(/-/g,"").replace(/^\+/,""),b.match(/^-?\d*(\.\d+)?$/)?void 0:"invalid_number"}}}.call(this),function(){FormRenderer.Validators.PriceValidator={validate:function(a){var b;return b=[],a.get("value.dollars")&&b.push(a.get("value.dollars").replace(/,/g,"")),a.get("value.cents")&&b.push(a.get("value.cents")),_.every(b,function(a){return a.match(/^-?\d+$/)})?void 0:"invalid_price"}}}.call(this),function(){FormRenderer.Validators.TimeValidator={validate:function(a){var b,c,d;return b=parseInt(a.get("value.hours"),10)||0,c=parseInt(a.get("value.minutes"),10)||0,d=parseInt(a.get("value.seconds"),10)||0,b>=1&&12>=b&&c>=0&&60>=c&&d>=0&&60>=d?void 0:"invalid_time"}}}.call(this),function(){var a,b,c,d,e=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};for(FormRenderer.Models.ResponseField=Backbone.DeepModel.extend({input_field:!0,field_type:void 0,validators:[],sync:function(){},initialize:function(a,b){return null==b&&(b={}),this.form_renderer=b.form_renderer,this.errors=[],this.calculateVisibility(),this.hasLengthValidations()?this.listenTo(this,"change:value",this.calculateLength):void 0},validate:function(){var a,b,c,d,e;if(this.errors=[],this.isVisible){if(!this.hasValue())return void(this.get("required")&&this.errors.push(FormRenderer.errors.blank));d=this.validators,e=[];for(c in d)b=d[c],a=b.validate(this),e.push(a?this.errors.push(FormRenderer.errors[a]):void 0);return e}},getError:function(){return this.errors.length>0?this.errors.join(". "):void 0},hasLengthValidations:function(){var a;return a=FormRenderer.Validators.MinMaxLengthValidator,e.call(this.validators,a)>=0&&(this.get("field_options.minlength")||this.get("field_options.maxlength"))},calculateLength:function(){return this.set("currentLength",FormRenderer.getLength(this.getLengthValidationUnits(),this.get("value")))},hasMinMaxValidations:function(){var a;return a=FormRenderer.Validators.MinMaxValidator,e.call(this.validators,a)>=0&&(this.get("field_options.min")||this.get("field_options.max"))},getLengthValidationUnits:function(){return this.get("field_options.min_max_length_units")||"characters"},setExistingValue:function(a){return a&&this.set("value",a),this.hasLengthValidations()?this.calculateLength():void 0},getValue:function(){return this.get("value")},toText:function(){return this.getValue()},hasValue:function(){return!!this.get("value")},hasAnyValueInHash:function(){return _.some(this.get("value"),function(a){return!!a})},hasValueHashKey:function(a){return _.some(a,function(a){return function(b){return!!a.get("value."+b)}}(this))},getOptions:function(){return this.get("field_options.options")||[]},getColumns:function(){return this.get("field_options.columns")||[]},getConditions:function(){return this.get("field_options.conditions")||[]},isConditional:function(){return this.getConditions().length>0},calculateVisibility:function(){return this.isVisible=this.form_renderer&&this.isConditional()?_.all(this.getConditions(),function(a){return function(b){return a.form_renderer.isConditionalVisible(b)}}(this)):!0},getSize:function(){return this.get("field_options.size")||"small"},sizeToHeaderTag:function(){return{large:"h2",medium:"h3",small:"h4"}[this.getSize()]}}),FormRenderer.Models.NonInputResponseField=FormRenderer.Models.ResponseField.extend({input_field:!1,field_type:void 0,validate:function(){},sync:function(){}}),FormRenderer.Models.ResponseFieldIdentification=FormRenderer.Models.ResponseField.extend({field_type:"identification",validators:[FormRenderer.Validators.IdentificationValidator],hasValue:function(){return!0}}),FormRenderer.Models.ResponseFieldMapMarker=FormRenderer.Models.ResponseField.extend({field_type:"map_marker",hasValue:function(){return _.every(["lat","lng"],function(a){return function(b){return!!a.get("value."+b)}}(this))},latLng:function(){return this.hasValue()?[this.get("value.lat"),this.get("value.lng")]:void 0},defaultLatLng:function(){var a,b;return(a=this.get("field_options.default_lat"))&&(b=this.get("field_options.default_lng"))?[a,b]:void 0}}),FormRenderer.Models.ResponseFieldAddress=FormRenderer.Models.ResponseField.extend({field_type:"address",setExistingValue:function(a){var b;return FormRenderer.Models.ResponseField.prototype.setExistingValue.apply(this,arguments),"city_state"===(b=this.get("field_options.address_format"))||"city_state_zip"===b||(null!=a?a.country:void 0)?void 0:this.set("value.country","US")},hasValue:function(){return"country"===this.get("field_options.address_format")?!!this.get("value.country"):this.hasValueHashKey(["street","city","state","zipcode"])},toText:function(){return _.values(_.pick(this.getValue(),"street","city","state","zipcode","country")).join(" ")}}),FormRenderer.Models.ResponseFieldCheckboxes=FormRenderer.Models.ResponseField.extend({field_type:"checkboxes",setExistingValue:function(a){return this.set("value",_.tap({},function(b){return function(c){var d,e,f,g,h,i,j,k,l;if(_.isEmpty(a)){for(k=b.getOptions(),l=[],d=g=0,i=k.length;i>g;d=++g)e=k[d],l.push(c[""+d]=_.toBoolean(e.checked));return l}for(j=b.getOptions(),d=f=0,h=j.length;h>f;d=++f)e=j[d],c[""+d]=a[e.label];return a.Other?(c.other_checkbox=!0,c.other=a.Other):void 0}}(this)))},getValue:function(){var a,b,c,d;b={},d=this.get("value");for(a in d)c=d[a],b[a]=c===!0?"on":c;return b},toText:function(){var a;return a=_.tap([],function(a){return function(b){var c,d,e,f;f=a.get("value");for(d in f)e=f[d],c=parseInt(d),e!==!0||_.isNaN(c)||b.push(a.getOptions()[c].label);return a.get("value.other_checkbox")===!0?b.push(a.get("value.other")):void 0}}(this)),a.join(" ")},hasValue:function(){return this.hasAnyValueInHash()}}),FormRenderer.Models.ResponseFieldRadio=FormRenderer.Models.ResponseField.extend({field_type:"radio",setExistingValue:function(a){var b;return(null!=a?a.selected:void 0)?this.set("value",a):(b=_.find(this.getOptions(),function(a){return _.toBoolean(a.checked)}))?this.set("value.selected",b.label):this.set("value",{})},getValue:function(){return _.tap({merge:!0},function(a){return function(b){return b[""+a.get("id")]=a.get("value.selected"),b[""+a.get("id")+"_other"]=a.get("value.other")}}(this))},toText:function(){return(this.getValue()||{})[""+this.id]},hasValue:function(){return!!this.get("value.selected")}}),FormRenderer.Models.ResponseFieldDropdown=FormRenderer.Models.ResponseField.extend({field_type:"dropdown",setExistingValue:function(a){var b;return null!=a?FormRenderer.Models.ResponseField.prototype.setExistingValue.apply(this,arguments):(b=_.find(this.getOptions(),function(a){return _.toBoolean(a.checked)}),b||this.get("field_options.include_blank_option")||(b=_.first(this.getOptions())),b?this.set("value",b.label):this.unset("value"))}}),FormRenderer.Models.ResponseFieldTable=FormRenderer.Models.ResponseField.extend({field_type:"table",initialize:function(){return FormRenderer.Models.ResponseField.prototype.initialize.apply(this,arguments),this.get("field_options.column_totals")?this.listenTo(this,"change:value.*",this.calculateColumnTotals):void 0},canAddRows:function(){return this.numRows<this.maxRows()},minRows:function(){return parseInt(this.get("field_options.minrows"),10)||0},maxRows:function(){return this.get("field_options.maxrows")?parseInt(this.get("field_options.maxrows"),10)||1/0:1/0},setExistingValue:function(a){var b,c;return b=(null!=(c=_.find(a,function(){return!0}))?c.length:void 0)||0,this.numRows=Math.max(this.minRows(),b,1),this.set("value",_.tap({},function(b){return function(c){var d,e,f,g,h,i;for(i=[],e=g=0,h=b.numRows-1;h>=0?h>=g:g>=h;e=h>=0?++g:--g)i.push(function(){var b,g,h,i,j,k;for(i=this.getColumns(),k=[],f=b=0,g=i.length;g>b;f=++b)d=i[f],c[h=""+f]||(c[h]={}),k.push(c[""+f][""+e]=this.getPresetValue(d.label,e)||(null!=a&&null!=(j=a[d.label])?j[e]:void 0));return k}.call(b));return i}}(this)))},hasValue:function(){return _.some(this.get("value"),function(a){return _.some(a,function(a){return!!a})})},getPresetValue:function(a,b){var c;return null!=(c=this.get("field_options.preset_values."+a))?c[b]:void 0},getValue:function(){var a,b,c,d,e,f,g,h,i;for(d={},b=e=0,h=this.numRows-1;h>=0?h>=e:e>=h;b=h>=0?++e:--e)for(i=this.getColumns(),c=f=0,g=i.length;g>f;c=++f)a=i[c],d[c]||(d[c]=[]),d[c].push(this.get("value."+c+"."+b)||"");return d},toText:function(){return _.flatten(_.values(this.getValue())).join(" ")},calculateColumnTotals:function(){var a,b,c,d,e,f,g,h,i,j,k;for(i=this.getColumns(),k=[],e=f=0,h=i.length;h>f;e=++f){for(a=i[e],c=[],d=g=0,j=this.numRows-1;j>=0?j>=g:g>=j;d=j>=0?++g:--g)c.push(parseFloat((this.get("value."+e+"."+d)||"").replace(/\$?,?/g,"")));b=_.reduce(c,function(a,b){return _.isNaN(b)?a:a+b},0),k.push(this.set("columnTotals."+e,b>0?parseFloat(b.toFixed(10)):""))}return k}}),FormRenderer.Models.ResponseFieldFile=FormRenderer.Models.ResponseField.extend({field_type:"file",getValue:function(){return this.get("value.id")||""},hasValue:function(){return this.hasValueHashKey(["id"])},getAcceptedExtensions:function(){var a;return(a=FormRenderer.FILE_TYPES[this.get("field_options.file_types")])?_.map(a,function(a){return"."+a}):void 0}}),FormRenderer.Models.ResponseFieldDate=FormRenderer.Models.ResponseField.extend({field_type:"date",validators:[FormRenderer.Validators.DateValidator],hasValue:function(){return this.hasValueHashKey(["month","day","year"])},toText:function(){return _.values(_.pick(this.getValue(),"month","day","year")).join("/")}}),FormRenderer.Models.ResponseFieldEmail=FormRenderer.Models.ResponseField.extend({validators:[FormRenderer.Validators.EmailValidator],field_type:"email"}),FormRenderer.Models.ResponseFieldNumber=FormRenderer.Models.ResponseField.extend({validators:[FormRenderer.Validators.NumberValidator,FormRenderer.Validators.MinMaxValidator,FormRenderer.Validators.IntegerValidator],field_type:"number"}),FormRenderer.Models.ResponseFieldParagraph=FormRenderer.Models.ResponseField.extend({field_type:"paragraph",validators:[FormRenderer.Validators.MinMaxLengthValidator]}),FormRenderer.Models.ResponseFieldPrice=FormRenderer.Models.ResponseField.extend({validators:[FormRenderer.Validators.PriceValidator,FormRenderer.Validators.MinMaxValidator],field_type:"price",hasValue:function(){return this.hasValueHashKey(["dollars","cents"])},toText:function(){var a;return a=this.getValue()||{},""+(a.dollars||"0")+"."+(a.cents||"00")}}),FormRenderer.Models.ResponseFieldText=FormRenderer.Models.ResponseField.extend({field_type:"text",validators:[FormRenderer.Validators.MinMaxLengthValidator]}),FormRenderer.Models.ResponseFieldTime=FormRenderer.Models.ResponseField.extend({validators:[FormRenderer.Validators.TimeValidator],field_type:"time",hasValue:function(){return this.hasValueHashKey(["hours","minutes","seconds"])},setExistingValue:function(a){return FormRenderer.Models.ResponseField.prototype.setExistingValue.apply(this,arguments),(null!=a?a.am_pm:void 0)?void 0:this.set("value.am_pm","AM")},toText:function(){var a;return a=this.getValue()||{},""+(a.hours||"00")+":"+(a.minutes||"00")+":"+(a.seconds||"00")+" "+a.am_pm}}),FormRenderer.Models.ResponseFieldWebsite=FormRenderer.Models.ResponseField.extend({field_type:"website"}),d=FormRenderer.NON_INPUT_FIELD_TYPES,b=0,c=d.length;c>b;b++)a=d[b],FormRenderer.Models["ResponseField"+_.str.classify(a)]=FormRenderer.Models.NonInputResponseField.extend({field_type:a})}.call(this),function(){FormRenderer.Plugins.Base=function(){function a(a){this.fr=a}return a}()}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};FormRenderer.Plugins.Autosave=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.afterFormLoad=function(){return setInterval(function(a){return function(){return a.fr.state.get("hasChanges")?a.fr.save():void 0}}(this),5e3)},c}(FormRenderer.Plugins.Base)}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};FormRenderer.Plugins.BottomBar=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.afterFormLoad=function(){return this.fr.subviews.bottomBar=new FormRenderer.Plugins.BottomBar.View({form_renderer:this.fr}),this.fr.$el.append(this.fr.subviews.bottomBar.render().el)},c}(FormRenderer.Plugins.Base),FormRenderer.Plugins.BottomBar.View=Backbone.View.extend({events:{"click [data-fr-previous-page]":function(a){return a.preventDefault(),this.form_renderer.handlePreviousPage()},"click [data-fr-next-page]":function(a){return a.preventDefault(),this.form_renderer.handleNextPage()}},initialize:function(a){return this.form_renderer=a.form_renderer,this.listenTo(this.form_renderer.state,"change:activePage change:hasChanges change:submitting change:hasServerErrors",this.render)},render:function(){return this.$el.html(JST["plugins/bottom_bar"](this)),this.form_renderer.trigger("viewRendered",this),this}})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};FormRenderer.Plugins.ErrorBar=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.afterFormLoad=function(){return this.fr.subviews.errorBar=new FormRenderer.Plugins.ErrorBar.View({form_renderer:this.fr}),this.fr.$el.prepend(this.fr.subviews.errorBar.render().el)},c}(FormRenderer.Plugins.Base),FormRenderer.Plugins.ErrorBar.View=Backbone.View.extend({initialize:function(a){return this.form_renderer=a.form_renderer,this.listenTo(this.form_renderer,"afterValidate",this.render)},render:function(){return this.$el.html(JST["plugins/error_bar"](this)),this.form_renderer.trigger("viewRendered",this),this.form_renderer.areAllPagesValid()||window.scrollTo(0,this.$el.offset().top-10),this}})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};FormRenderer.Plugins.LocalStorage=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.beforeFormLoad=function(){var a,b;if(store.enabled)return a="project-"+this.fr.options.project_id+"-response-id",(b=this.fr.options.response).id||(b.id=store.get(a)),this.fr.on("afterSave",function(){return this.fr.state.get("submitting")?void 0:store.set(a,this.fr.options.response.id)}),this.fr.on("afterSubmit",function(){return store.remove(a)}),this.fr.on("errorSaving",function(){return store.remove(a)})},c}(FormRenderer.Plugins.Base)}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};FormRenderer.Plugins.PageState=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.afterFormLoad=function(){var a,b,c;return(a=null!=(c=window.location.hash.match(/page([0-9]+)/))?c[1]:void 0)&&(b=parseInt(a,10),this.fr.isPageVisible(b)&&this.fr.activatePage(b,{skipValidation:!0})),this.fr.state.on("change:activePage",function(a,b){return window.location.hash="page"+b})},c}(FormRenderer.Plugins.Base)}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};FormRenderer.Plugins.WarnBeforeUnload=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.afterFormLoad=function(){return BeforeUnload.enable({"if":function(a){return function(){return a.fr.state.get("hasChanges")}}(this)})},c}(FormRenderer.Plugins.Base)}.call(this),function(){FormRenderer.Views.Page=Backbone.View.extend({className:"fr_page",initialize:function(a){return this.form_renderer=a.form_renderer,this.models=[],this.views=[]},render:function(){var a,b,c,d,e;for(this.hide(),e=this.models,c=0,d=e.length;d>c;c++)a=e[c],b=new(FormRenderer.Views["ResponseField"+_.str.classify(a.field_type)])({model:a,form_renderer:this.form_renderer}),this.$el.append(b.render().el),b.reflectConditions(),this.views.push(b);
return this},hide:function(){var a,b,c,d,e;for(this.$el.hide(),d=this.views,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.trigger("hidden"));return e},show:function(){var a,b,c,d,e;for(this.$el.show(),d=this.views,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.trigger("shown"));return e},reflectConditions:function(){var a,b,c,d,e;for(d=this.views,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.reflectConditions());return e},renderViews:function(){var a,b,c,d,e;for(d=this.views,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.render());return e},validate:function(){var a,b,c,d;for(d=_.filter(this.models,function(a){return a.input_field}),b=0,c=d.length;c>b;b++)a=d[b],a.validate();return this.renderViews()}})}.call(this),function(){FormRenderer.Views.Pagination=Backbone.View.extend({events:{"click [data-activate-page]":function(a){return this.form_renderer.activatePage($(a.currentTarget).data("activate-page"),{skipValidation:!0})}},initialize:function(a){return this.form_renderer=a.form_renderer,this.listenTo(this.form_renderer.state,"change:activePage",this.render),this.listenTo(this.form_renderer,"afterValidate",this.render)},render:function(){return this.$el.html(JST["partials/pagination"](this)),this.form_renderer.trigger("viewRendered",this),this}})}.call(this),function(){var a,b,c,d,e,f,g;for(FormRenderer.Views.ResponseField=Backbone.View.extend({field_type:void 0,className:"fr_response_field",initialize:function(a){return this.form_renderer=a.form_renderer,this.showLabels=this.form_renderer?this.form_renderer.options.showLabels:a.showLabels,this.model=a.model,this.$el.addClass("fr_response_field_"+this.field_type)},getDomId:function(){return this.model.cid},reflectConditions:function(){return this.model.isVisible?this.$el.show():this.$el.hide()},render:function(){var a;return this.$el[this.model.getError()?"addClass":"removeClass"]("error"),this.$el.html(JST["partials/response_field"](this)),rivets.bind(this.$el,{model:this.model}),null!=(a=this.form_renderer)&&a.trigger("viewRendered",this),this}}),FormRenderer.Views.NonInputResponseField=FormRenderer.Views.ResponseField.extend({render:function(){var a;return this.$el.html(JST["partials/non_input_response_field"](this)),null!=(a=this.form_renderer)&&a.trigger("viewRendered",this),this}}),FormRenderer.Views.ResponseFieldPrice=FormRenderer.Views.ResponseField.extend({field_type:"price",events:{'blur [data-rv-input="model.value.cents"]':"formatCents"},formatCents:function(a){var b;return b=$(a.target).val(),b&&b.match(/^\d$/)?this.model.set("value.cents","0"+b):void 0}}),FormRenderer.Views.ResponseFieldTable=FormRenderer.Views.ResponseField.extend({field_type:"table",events:{"click .js-add-row":"addRow","click .js-remove-row":"removeRow"},initialize:function(){return FormRenderer.Views.ResponseField.prototype.initialize.apply(this,arguments),this.on("shown",function(){return this.initExpanding()})},render:function(){return FormRenderer.Views.ResponseField.prototype.render.apply(this,arguments),this.initExpanding(),this},initExpanding:function(){},canRemoveRow:function(a){var b;return b=Math.max(1,this.model.minRows()),a>b-1},addRow:function(){return this.model.numRows++,this.render()},removeRow:function(a){var b,c,d,e,f;c=$(a.currentTarget).closest("[data-row-index]").data("row-index"),d=this.model.get("value"),e={};for(b in d)f=d[b],e[b]=_.tap({},function(a){var b,d,e;e=[];for(b in f)d=f[b],b=parseInt(b,10),e.push(c>b?a[b]=d:b>c?a[b-1]=d:void 0);return e});return this.model.numRows--,this.model.attributes.value=e,this.model.trigger("change change:value"),this.render()}}),FormRenderer.Views.ResponseFieldFile=FormRenderer.Views.ResponseField.extend({field_type:"file",events:{"click [data-fr-remove-file]":"doRemove"},render:function(){return FormRenderer.Views.ResponseField.prototype.render.apply(this,arguments),this.$input=this.$el.find("input"),this.$status=this.$el.find(".js-upload-status"),this.bindChangeEvent(),this},bindChangeEvent:function(){return this.$input.on("change",$.proxy(this.fileChanged,this))},fileChanged:function(a){var b,c;return b=null!=(null!=(c=a.target.files)?c[0]:void 0)?a.target.files[0].name:a.target.value?a.target.value.replace(/^.+\\/,""):"Error reading filename",this.model.set("value.filename",b,{silent:!0}),this.$el.find(".js-filename").text(b),this.$status.text("Uploading..."),this.doUpload()},doUpload:function(){var a,b;return b=$("<form method='post' style='display: inline;' />"),a=this.$input,this.$input=a.clone().hide().val("").insertBefore(a),this.bindChangeEvent(),a.appendTo(b),b.insertBefore(this.$input),this.form_renderer.requests+=1,b.ajaxSubmit({url:""+this.form_renderer.options.screendoorBase+"/api/form_renderer/file",data:{response_field_id:this.model.get("id"),replace_file_id:this.model.get("value.id"),v:0},dataType:"json",uploadProgress:function(a){return function(b,c,d,e){return a.$status.text(100===e?"Finishing up...":"Uploading... ("+e+"%)")}}(this),complete:function(a){return function(){return a.form_renderer.requests-=1,b.remove()}}(this),success:function(a){return function(b){return a.model.set("value.id",b.file_id),a.render()}}(this),error:function(a){return function(b){var c,d;return c=null!=(d=b.responseJSON)?d.errors:void 0,a.$status.text(c?"Error: "+c:"Error"),a.$status.addClass("fr_error"),setTimeout(function(){return a.render()},2e3)}}(this)})},doRemove:function(){return this.model.set("value",{}),this.render()}}),FormRenderer.Views.ResponseFieldMapMarker=FormRenderer.Views.ResponseField.extend({field_type:"map_marker",events:{"click .fr_map_cover":"enable","click [data-fr-clear-map]":"disable"},initialize:function(){return FormRenderer.Views.ResponseField.prototype.initialize.apply(this,arguments),this.on("shown",function(){var a;return this.refreshing=!0,null!=(a=this.map)&&a._onResize(),setTimeout(function(a){return function(){return a.refreshing=!1}}(this),0)})},render:function(){return FormRenderer.Views.ResponseField.prototype.render.apply(this,arguments),this.$cover=this.$el.find(".fr_map_cover"),FormRenderer.loadLeaflet(function(a){return function(){return a.initMap(),a.model.latLng()?a.enable():void 0}}(this)),this},initMap:function(){return this.map=FormRenderer.initMap(this.$el.find(".fr_map_map")[0]),this.$el.find(".fr_map_map").data("map",this.map),this.map.setView(this.model.latLng()||this.model.defaultLatLng()||FormRenderer.DEFAULT_LAT_LNG,13),this.marker=L.marker([0,0]),this.map.on("move",$.proxy(this._onMove,this))},_onMove:function(){var a;if(!this.refreshing)return a=this.map.getCenter(),this.marker.setLatLng(a),this.model.set({value:{lat:a.lat.toFixed(7),lng:a.lng.toFixed(7)}})},enable:function(){return this.map.addLayer(this.marker),this.$cover.hide(),this._onMove()},disable:function(){return this.map.removeLayer(this.marker),this.$el.find(".fr_map_cover").show(),this.model.set({value:{lat:"",lng:""}})}}),FormRenderer.Views.ResponseFieldAddress=FormRenderer.Views.ResponseField.extend({field_type:"address",initialize:function(){return FormRenderer.Views.ResponseField.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:value.country",this.render)}}),f=_.without(FormRenderer.INPUT_FIELD_TYPES,"address","table","file","map_marker","price"),b=0,d=f.length;d>b;b++)a=f[b],FormRenderer.Views["ResponseField"+_.str.classify(a)]=FormRenderer.Views.ResponseField.extend({field_type:a});for(g=FormRenderer.NON_INPUT_FIELD_TYPES,c=0,e=g.length;e>c;c++)a=g[c],FormRenderer.Views["ResponseField"+_.str.classify(a)]=FormRenderer.Views.NonInputResponseField.extend({field_type:a})}.call(this),window.JST||(window.JST={}),window.JST["fields/address"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){var a,c,e,f,g,h,i,j,k;if(a=this.model.get("field_options.address_format"),d(b("\n\n")),"city_state"!==a&&"city_state_zip"!==a&&"country"!==a&&(d(b('\n  <div class=\'fr_input_grid\'>\n    <div class=\'fr_full has_sub_label\'>\n      <label class="fr_sub_label">Address</label>\n      <input type="text"\n             id="')),d(this.getDomId()),d(b("\"\n             data-rv-input='model.value.street' />\n    </div>\n  </div>\n"))),d(b("\n\n")),"country"!==a){if(d(b("\n  <div class='fr_input_grid'>\n    <div class='fr_half has_sub_label'>\n      <label class=\"fr_sub_label\">City</label>\n      <input type=\"text\"\n             data-rv-input='model.value.city' />\n    </div>\n\n    <div class='fr_half has_sub_label'>\n      <label class=\"fr_sub_label\">\n        ")),d("US"===this.model.get("value.country")?b("\n          State\n        "):"CA"===this.model.get("value.country")?b("\n          Province\n        "):b("\n          State / Province / Region\n        ")),d(b("\n      </label>\n\n      ")),"US"===(i=this.model.get("value.country"))||"CA"===i){for(d(b("\n        <select data-rv-value='model.value.state' data-width='100%'>\n          <option></option>\n          ")),j=FormRenderer["PROVINCES_"+this.model.get("value.country")],e=0,g=j.length;g>e;e++)c=j[e],d(b("\n            <option value='")),d(c),d(b("'>")),d(c),d(b("</option>\n          "));d(b("\n        </select>\n      "))}else d(b("\n        <input type=\"text\" data-rv-input='model.value.state' />\n      "));d(b("\n    </div>\n  </div>\n"))}if(d(b("\n\n<div class='fr_input_grid'>\n  ")),"city_state"!==a&&"country"!==a&&(d(b("\n    <div class='fr_half has_sub_label'>\n      <label class=\"fr_sub_label\">\n        ")),d("US"===this.model.get("value.country")?b("ZIP"):b("Postal")),d(b(" Code\n      </label>\n      <input type=\"text\"\n             data-rv-input='model.value.zipcode' />\n    </div>\n  "))),d(b("\n\n  ")),"city_state"!==a&&"city_state_zip"!==a){for(d(b("\n    <div class='fr_half has_sub_label'>\n      <label class=\"fr_sub_label\">Country</label>\n      <select data-rv-value='model.value.country' data-width='100%'>\n        ")),k=FormRenderer.ORDERED_COUNTRIES,f=0,h=k.length;h>f;f++)c=k[f],d(b("\n          <option value='")),d(c),d(b("'>")),d(ISOCountryNames[c]||"---"),d(b("</option>\n        "));d(b("\n      </select>\n    </div>\n  "))}d(b("\n</div>\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/block_of_text"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b("<div class='size_")),d(this.model.getSize()),d(b("'>\n  ")),d(b(FormRenderer.formatHTML(this.model.get("field_options.description")))),d(b("\n</div>\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/checkboxes"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){var a,c,e,f,g;for(g=this.model.getOptions(),a=e=0,f=g.length;f>e;a=++e)c=g[a],d(b("\n  <label class='fr_option control'>\n    <input type='checkbox' data-rv-checked='model.value.")),d(a),d(b("' />\n    ")),d(c.label),d(b("\n  </label>\n"));d(b("\n\n")),this.model.get("field_options.include_other_option")&&d(b("\n  <div class='fr_option fr_other_option'>\n    <label class='control'>\n      <input type='checkbox' data-rv-checked='model.value.other_checkbox' />\n      Other\n    </label>\n\n    <input type='text' data-rv-input='model.value.other' placeholder='Write your answer here' />\n  </div>\n")),d(b("\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/date"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b('<div class=\'fr_input_grid\'>\n  <div class=\'has_sub_label\'>\n    <label class="fr_sub_label">MM</label>\n    <input type="text"\n           id="')),d(this.getDomId()),d(b("\"\n           data-rv-input='model.value.month'\n           maxlength='2'\n           size='2' />\n  </div>\n\n  <div class='fr_spacer'>/</div>\n\n  <div class='has_sub_label'>\n    <label class=\"fr_sub_label\">DD</label>\n    <input type=\"text\"\n           data-rv-input='model.value.day'\n           maxlength='2'\n           size='2' />\n  </div>\n\n  <div class='fr_spacer'>/</div>\n\n  <div class='has_sub_label'>\n    <label class=\"fr_sub_label\">YYYY</label>\n    <input type=\"text\"\n           data-rv-input='model.value.year'\n           maxlength='4'\n           size='4' />\n  </div>\n</div>\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/dropdown"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){var a,c,e,f;for(d(b('<select id="')),d(this.getDomId()),d(b("\" data-rv-value='model.value'>\n  ")),this.model.get("field_options.include_blank_option")&&d(b("\n    <option></option>\n  ")),d(b("\n\n  ")),f=this.model.getOptions(),c=0,e=f.length;e>c;c++)a=f[c],d(b('\n    <option value="')),d(a.label),d(b('">')),d(a.label),d(b("</option>\n  "));d(b("\n</select>\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/email"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b('<input type="text" inputmode="email"\n       id="')),d(this.getDomId()),d(b("\"\n       data-rv-input='model.value' />\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/file"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){var a;this.model.hasValue()?(d(b("\n  <span class='js-filename'>")),d(this.model.get("value.filename")),d(b("</span>\n  <button data-fr-remove-file class='")),d(FormRenderer.BUTTON_CLASS),d(b("'>Remove</button>\n"))):(d(b("\n  <input type='file'\n         id='")),d(this.getDomId()),d(b("'\n         name='file'\n         ")),(a=this.model.getAcceptedExtensions())&&(d(b("\n          accept='")),d(a.join(",")),d(b("'\n         "))),d(b("\n         />\n  <span class='js-upload-status'></span>\n\n  ")),(a=this.model.getAcceptedExtensions())&&(d(b("\n    <div class='fr_description'>\n      We'll accept ")),d(_.str.toSentence(a)),d(b("\n    </div>\n  "))),d(b("\n"))),d(b("\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/identification"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b("<div class='fr_input_grid'>\n  <div class='fr_full lap_fr_half'>\n    <label for='")),d(this.getDomId()),d(b("-name'>Name <abbr class='fr_required' title='required'>*</abbr></label>\n    <input type='text'\n           id='")),d(this.getDomId()),d(b("-name'\n           data-rv-input='model.value.name' />\n  </div>\n\n  <div class='fr_full lap_fr_half'>\n    <label for='")),d(this.getDomId()),d(b("-email'>Email <abbr class='fr_required' title='required'>*</abbr></label>\n    <input type=\"text\"\n           id='")),d(this.getDomId()),d(b("-email'\n           data-rv-input='model.value.email' />\n  </div>\n</div>\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/map_marker"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b("<div class='fr_map_wrapper'>\n  <div class='fr_map_map' />\n\n  <div class='fr_map_cover'>\n    Click to set location\n  </div>\n\n  <div class='fr_map_toolbar fr_cf'>\n    <div class='fr_map_coord'>\n      <strong>Coordinates:</strong>\n      <span data-rv-show='model.value.lat'>\n        <span data-rv-text='model.value.lat' />,\n        <span data-rv-text='model.value.lng' />\n      </span>\n      <span data-rv-hide='model.value.lat' class='fr_map_no_location'>N/A</span>\n    </div>\n    <a class='fr_map_clear' data-fr-clear-map data-rv-show='model.value.lat' href='javascript:void(0);'>Clear</a>\n  </div>\n</div>\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/number"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b('<input type="text"\n       id="')),d(this.getDomId()),d(b("\"\n       data-rv-input='model.value' />\n\n")),this.model.get("field_options.units")&&(d(b("\n  <span class='fr_units'>\n    ")),d(this.model.get("field_options.units")),d(b("\n  </span>\n"))),d(b("\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/page_break"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b("<div class='fr_page_break_inner'>\n  Page break\n</div>\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/paragraph"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b('<textarea\n   id="')),d(this.getDomId()),d(b('"\n   class="size_')),d(this.model.getSize()),d(b("\"\n   data-rv-input='model.value' />\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/price"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b("<div class='fr_input_grid'>\n  <div class='fr_spacer'>$</div>\n\n  <div class='has_sub_label'>\n    <label class=\"fr_sub_label\">Dollars</label>\n    <input type=\"text\"\n           id=\"")),d(this.getDomId()),d(b("\"\n           data-rv-input='model.value.dollars'\n           size='6' />\n  </div>\n\n  ")),this.model.get("field_options.disable_cents")||d(b("\n    <div class='fr_spacer'>.</div>\n    <div class='has_sub_label'>\n      <label class=\"fr_sub_label\">Cents</label>\n      <input type=\"text\"\n             data-rv-input='model.value.cents'\n             maxlength='2'\n             size='2' />\n    </div>\n  ")),d(b("\n</div>\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/radio"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){var a,c,e,f,g;for(g=this.model.getOptions(),a=e=0,f=g.length;f>e;a=++e)c=g[a],d(b("\n  <label class='fr_option control'>\n    <input type='radio'\n           data-rv-checked='model.value.selected'\n           id=\"")),d(this.getDomId()),d(b('"\n           name="')),d(this.getDomId()),d(b('"\n           value="')),d(c.label),d(b('" />\n    ')),d(c.label),d(b("\n  </label>\n"));d(b("\n\n")),this.model.get("field_options.include_other_option")&&(d(b("\n  <div class='fr_option fr_other_option'>\n    <label class='control'>\n      <input type='radio'\n             data-rv-checked='model.value.selected'\n             id=\"")),d(this.getDomId()),d(b('"\n             name="')),d(this.getDomId()),d(b("\"\n             value=\"Other\" />\n      Other\n    </label>\n\n    <input type='text' data-rv-input='model.value.other' placeholder='Write your answer here' />\n  </div>\n"))),d(b("\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/section_break"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b("<div class='size_")),d(this.model.getSize()),d(b("'>\n  <")),d(this.model.sizeToHeaderTag()),d(b(">")),d(this.model.get("label")),d(b("</")),d(this.model.sizeToHeaderTag()),d(b(">\n  ")),d(b(FormRenderer.formatHTML(this.model.get("field_options.description")))),d(b("\n</div>\n\n<hr />\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/table"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){var a,c,e,f,g,h,i,j,k,l,m,n,o,p;for(d(b("<table class='fr_table'>\n  <thead>\n    <tr>\n      ")),m=this.model.getColumns(),f=0,j=m.length;j>f;f++)a=m[f],d(b("\n        <th>")),d(a.label),d(b("</th>\n      "));for(d(b("\n\n      <th class='fr_table_col_remove'></th>\n    </tr>\n  </thead>\n\n  <tbody>\n    ")),c=g=0,n=this.model.numRows-1;n>=0?n>=g:g>=n;c=n>=0?++g:--g){for(d(b('\n      <tr data-row-index="')),d(c),d(b('">\n        ')),o=this.model.getColumns(),e=h=0,k=o.length;k>h;e=++h)a=o[e],d(b("\n          <td>\n            <textarea ")),this.model.getPresetValue(a.label,c)&&d(b("disabled")),d(b("\n                      data-col='")),d(e),d(b("'\n                      data-row='")),d(c),d(b("'\n                      data-rv-input='model.value.")),d(e),d(b(".")),d(c),d(b("'\n                      rows='1' />\n          </td>\n        "));d(b("\n\n        <td class='fr_table_col_remove'>\n          ")),this.canRemoveRow(c)&&(d(b("\n            <a class='js-remove-row' href='javascript:void(0)'>\n              ")),d(b(FormRenderer.REMOVE_ROW_LINK)),d(b("\n            </a>\n          "))),d(b("\n        </td>\n      </tr>\n    "))}if(d(b("\n  </tbody>\n\n  ")),this.model.get("field_options.column_totals")){for(d(b("\n    <tfoot>\n      <tr>\n        ")),p=this.model.getColumns(),e=i=0,l=p.length;l>i;e=++i)a=p[e],d(b("\n          <td data-rv-text='model.columnTotals.")),d(e),d(b("'></td>\n        "));d(b('\n        <td class="fr_table_col_remove"></td>\n      </tr>\n    </tfoot>\n  '))}d(b("\n</table>\n\n<div class='fr_table_add_row_wrapper'>\n  ")),this.model.canAddRows()&&(d(b("\n    <a class='js-add-row' href='javascript:void(0)'>\n      ")),d(b(FormRenderer.ADD_ROW_LINK)),d(b("\n    </a>\n  "))),d(b("\n</div>\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/text"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b('<input type="text"\n       id="')),d(this.getDomId()),d(b('"\n       class="size_')),d(this.model.getSize()),d(b("\"\n       data-rv-input='model.value' />\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/time"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b('<div class=\'fr_input_grid\'>\n  <div class=\'has_sub_label\'>\n    <label class="fr_sub_label">HH</label>\n    <input type="text"\n           id="')),d(this.getDomId()),d(b("\"\n           data-rv-input='model.value.hours'\n           maxlength='2'\n           size='2' />\n  </div>\n\n  <div class='fr_spacer'>:</div>\n\n  <div class='has_sub_label'>\n    <label class=\"fr_sub_label\">MM</label>\n    <input type=\"text\"\n           data-rv-input='model.value.minutes'\n           maxlength='2'\n           size='2' />\n  </div>\n\n  ")),this.model.get("field_options.disable_seconds")||d(b("\n    <div class='fr_spacer'>:</div>\n\n    <div class='has_sub_label'>\n      <label class=\"fr_sub_label\">SS</label>\n      <input type=\"text\"\n             data-rv-input='model.value.seconds'\n             maxlength='2'\n             size='2' />\n    </div>\n  ")),d(b("\n\n  <div class='has_sub_label'>\n    <select data-rv-value='model.value.am_pm' data-width='auto'>\n      <option value='AM'>AM</option>\n      <option value='PM'>PM</option>\n    </select>\n  </div>\n</div>\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["fields/website"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b('<input type="text" inputmode="url"\n       id="')),d(this.getDomId()),d(b("\"\n       data-rv-input='model.value'\n       placeholder='http://' />\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST.main=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b("<div class='fr_loading'>\n  Loading form...\n</div>"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["partials/description"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){this.model.get("field_options.description")&&(d(b("\n  <div class='fr_description'>\n    ")),d(b(FormRenderer.formatHTML(this.model.get("field_options.description")))),d(b("\n  </div>\n"))),d(b("\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["partials/error"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){this.model.getError()&&(d(b("\n  <div class='fr_error'>\n    ")),d(this.model.getError()),d(b("\n  </div>\n"))),d(b("\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["partials/label"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b('<label for="')),d(this.getDomId()),d(b('">\n  ')),d(this.model.get("label")),d(b("\n  ")),this.model.get("required")&&d(b("<abbr class='fr_required' title='required'>*</abbr>")),d(b("\n\n  ")),this.showLabels&&(d(b("\n    ")),this.model.get("blind")&&d(b("\n      <span class='label'>Blind</span>\n    ")),d(b("\n    ")),this.model.get("admin_only")&&d(b("\n      <span class='label'>Hidden</span>\n    ")),d(b("\n    ")),this.model.isConditional()&&d(b("\n      <span class='label'>Hidden until rules are met</span>\n    ")),d(b("\n  "))),d(b("\n</label>\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")
},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["partials/length_validations"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){this.model.hasLengthValidations()&&(d(b("\n  <div class='fr_min_max'>\n    ")),this.model.get("field_options.minlength")&&this.model.get("field_options.maxlength")?(d(b("\n      Enter between ")),d(this.model.get("field_options.minlength")),d(b(" and ")),d(this.model.get("field_options.maxlength")),d(b(" ")),d(this.model.getLengthValidationUnits()),d(b(".\n    "))):this.model.get("field_options.minlength")?(d(b("\n      Enter more than ")),d(this.model.get("field_options.minlength")),d(b(" ")),d(this.model.getLengthValidationUnits()),d(b(".\n    "))):this.model.get("field_options.maxlength")&&(d(b("\n      Enter less than ")),d(this.model.get("field_options.maxlength")),d(b(" ")),d(this.model.getLengthValidationUnits()),d(b(".\n    "))),d(b("\n\n    <span class='fr_min_max_counter'> <b data-rv-text='model.currentLength'></b> ")),d(this.model.getLengthValidationUnits()),d(b("</span>\n  </div>\n"))),d(b("\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["partials/min_max_validations"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){this.model.hasMinMaxValidations()&&(d(b("\n  <div class='fr_min_max'>\n    ")),this.model.get("field_options.min")&&this.model.get("field_options.max")?(d(b("\n      Between ")),d(this.model.get("field_options.min")),d(b(" and ")),d(this.model.get("field_options.max")),d(b(".\n    "))):this.model.get("field_options.min")?(d(b("\n      More than ")),d(this.model.get("field_options.min")),d(b(".\n    "))):this.model.get("field_options.max")&&(d(b("\n      Less than ")),d(this.model.get("field_options.max")),d(b(".\n    "))),d(b("\n  </div>\n"))),d(b("\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["partials/non_input_response_field"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b(JST["fields/"+this.field_type](this))),d(b("\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["partials/pagination"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){var a,c,e,f,g;if(this.form_renderer.visiblePages().length>1){for(d(b("\n  <ul class='fr_pagination'>\n    ")),g=this.form_renderer.visiblePages(),c=e=0,f=g.length;f>e;c=++e)a=g[c],d(b("\n      <li class='")),this.form_renderer.isPageValid(a)||d(b("has_errors")),d(b("'>\n        ")),a===this.form_renderer.state.get("activePage")?(d(b("\n          <span>")),d(c+1),d(b("</span>\n        </li>\n        "))):(d(b('\n          <a data-activate-page="')),d(a),d(b("\" href='javascript:void(0)'>\n            ")),d(c+1),d(b("\n          </a>\n        "))),d(b("\n      </li>\n    "));d(b("\n  </ul>\n"))}d(b("\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["partials/response_field"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){d(b(JST["partials/label"](this))),d(b("\n")),d(b(JST["fields/"+this.field_type](this))),d(b("\n\n<div class='fr_clear' />\n\n")),d(b(JST["partials/length_validations"](this))),d(b("\n")),d(b(JST["partials/min_max_validations"](this))),d(b("\n")),d(b(JST["partials/error"](this))),d(b("\n")),d(b(JST["partials/description"](this))),d(b("\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["plugins/bottom_bar"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};d(b("<div class='fr_bottom fr_cf'>\n  ")),a.call(this.form_renderer.options.plugins,"Autosave")>=0&&(d(b("\n    <div class='fr_bottom_l'>\n      ")),d(this.form_renderer.state.get("hasServerErrors")?b("\n        Error saving\n      "):this.form_renderer.state.get("hasChanges")?b("\n        Saving...\n      "):b("\n        Saved\n      ")),d(b("\n    </div>\n  "))),d(b("\n\n  <div class='fr_bottom_r'>\n    ")),this.form_renderer.isFirstPage()||(d(b("\n      <button data-fr-previous-page class='")),d(FormRenderer.BUTTON_CLASS),d(b("'>\n        Back to page ")),d(this.form_renderer.previousPage()),d(b("\n      </button>\n    "))),d(b("\n\n    ")),this.form_renderer.state.get("submitting")?(d(b("\n      <button disabled class='")),d(FormRenderer.BUTTON_CLASS),d(b("'>\n        Submitting...\n      </button>\n    "))):(d(b("\n      <button data-fr-next-page class='")),d(FormRenderer.BUTTON_CLASS),d(b("'>\n        ")),d(this.form_renderer.isLastPage()||!this.form_renderer.options.enablePages?b("Submit"):b("Next page")),d(b("\n      </button>\n    "))),d(b("\n  </div>\n</div>\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())},window.JST||(window.JST={}),window.JST["plugins/error_bar"]=function(a){var b=function(a){"undefined"==typeof a&&null==a&&(a="");var b=new String(a);return b.ecoSafe=!0,b};return function(){var a=[],c=this,d=function(b){"undefined"!=typeof b&&null!=b&&a.push(b.ecoSafe?b:c.escape(b))};return function(){this.form_renderer.areAllPagesValid()||d(b("\n  <div class='fr_error_alert_bar'>Your response has validation errors.</div>\n")),d(b("\n"))}.call(this),a.join("")}.call(function(){var c,d={escape:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},safe:b};for(c in a)d[c]=a[c];return d}())};